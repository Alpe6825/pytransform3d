before_script:
  - virtualenv pytransform_env

stages:
  - test

ubuntu-tests:
  stage: test
  script:
    - source pytransform_env/bin/activate
    - pip install numpy nose coverage sphinx matplotlib
    - nosetests -sv --with-coverage
    - cd doc; make html
  tags:
    - ubuntu14.04

windows-tests:
  stage: test
  script:
    - call pytransform_env\Scripts\activate.bat
    - pip install numpy nose coverage sphinx matplotlib
    - nosetests -sv --with-coverage
    - cd doc; make.bat html
  tags:
    - windows-server-2008
